
Running test 1....
2024/05/21 17:37:56 server[0]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:37:56 server[0]should begin a election
Test (3D): snapshots basic ...
2024/05/21 17:37:56 server[1]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:37:56 server[1]should begin a election
2024/05/21 17:37:56 server[2]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:37:56 server[2]should begin a election
2024/05/21 17:37:56 server[0]has vote for himself, Term is:1
2024/05/21 17:37:56 server[1]has vote for himself, Term is:1
2024/05/21 17:37:56 server[2]has vote for himself, Term is:1
2024/05/21 17:37:56 server[1] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:37:56 server[2] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:37:56 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:56 server[2]not granted to server 1, because server has vote to 2
2024/05/21 17:37:56 server[2] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:37:56 server[1] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:56 server[2] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:37:56 server[2] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:56 server[1]not granted to server 2, because server has vote to 1
2024/05/21 17:37:56 server[1] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:37:56 server[0] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:37:56 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:56 server[0]not granted to server 1, because server has vote to 0
2024/05/21 17:37:56 server[0] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:37:56 server[1] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:37:56 server[0] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:37:56 server[0] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:56 server[0]not granted to server 2, because server has vote to 0
2024/05/21 17:37:56 server[2]not granted to server 0, because server has vote to 2
2024/05/21 17:37:56 server[2] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:37:56 server[1] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:56 server[1]not granted to server 0, because server has vote to 1
2024/05/21 17:37:56 server[1] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:37:56 server[2] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:56 server[1] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:56 server[1] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:56 server[0] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:37:56 server[1] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:37:56 server[2] wait walk up, voteCount is:1, finishRequest:2, len/2 is:1, vote plus finish is:2
2024/05/21 17:37:56 server[1], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:37:56 server[0] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:56 server[0] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:56 server[2] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:56 server[0] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:37:56 server[2] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:37:56 server[2], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:37:56 server[0], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:37:56 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:56 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:56 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:56 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:56 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:56 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:57 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:true
2024/05/21 17:37:57 server[1]should begin a election
2024/05/21 17:37:57 server[1]has vote for himself, Term is:2
2024/05/21 17:37:57 server[2] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:37:57 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:37:57 server[2]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:37:57 server[2] has finish request vote, request server is:1, args Term is:2, result granted is:true
2024/05/21 17:37:57 server[0] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:37:57 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:37:57 server[1] got server 2 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:37:57 server[0]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:37:57 server[1] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:37:57 server[1], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:2
2024/05/21 17:37:57 server[1], become a leader, got 2 tickets


=== server 1成为了term为2的leader
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0}]
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 true} {0 0 0 0 [] 0 0 false} {0 0 0 0 [] 0 0 true}],

2024/05/21 17:37:57 server[1], server term:2, begin to send snap shot to:2, args is:{2 1 0 -1 0 [] true}
2024/05/21 17:37:57 server[1], server term:2, begin to send snap shot to:0, args is:{2 1 0 -1 0 [] true}


2024/05/21 17:37:57 server[0]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:37:57 server[2]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:37:57 server[1], term:2, got peer:0 send snapshot reply
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:1, len of log is:2, this is:0 server reply,and now match index is:[0 1 0],commit index is:0
2024/05/21 17:37:57 server[1], term:2, got peer:2 send snapshot reply
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:1, len of log is:2, this is:2 server reply,and now match index is:[0 1 0],commit index is:0


2024/05/21 17:37:57 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:37:57 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 0 -1 [{2 1 0}] 0 2 false} {0 0 0 0 [] 0 0 false} {2 1 0 -1 [{2 1 0}] 0 2 false}],


2024/05/21 17:37:57 server[2]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:37:57 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:37:57 server[0]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:37:57 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0

2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:1, len of log is:2, this is:2 server reply,and now match index is:[0 1 1],commit index is:0
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:1
2024/05/21 17:37:57 server[1]after append entries to 2 server request, now it commit index is:1
2024/05/21 17:37:57 server[1]after append entries to 0 server request, now it commit index is:1


2024/05/21 17:37:57 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],


2024/05/21 17:37:57 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:37:57 follower server[2]apply log to applych,local term is:2, log term is:2, log index is:1

2024/05/21 17:37:57 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:37:57 follower server[0]apply log to applych,local term is:2, log term is:2, log index is:1

2024/05/21 17:37:57 snapcommon: now command 0 should make same at three server



2024/05/21 17:37:57 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:37:57 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[1]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:57 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:37:57 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:57 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:57 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:37:57 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:37:57 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:57 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false


2024/05/21 17:37:57 snapcommon: leader1 is:1
2024/05/21 17:37:57 snapcommon: send 0 to 1 server
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0}]
2024/05/21 17:37:57 snapcommon: send 1 to 1 server
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0}]
2024/05/21 17:37:57 snapcommon: send 2 to 1 server
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0}]
2024/05/21 17:37:57 snapcommon: send 3 to 1 server
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0}]
2024/05/21 17:37:57 snapcommon: send 4 to 1 server
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0}]
2024/05/21 17:37:57 snapcommon: send 5 to 1 server
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0}]
2024/05/21 17:37:57 snapcommon: send 6 to 1 server
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0}]
2024/05/21 17:37:57 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}]




2024/05/21 17:37:57 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}    {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}] log, the nextIndex is:2, len of log is:10, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}], args commitIndex is:1
2024/05/21 17:37:57 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}    {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}] log, the nextIndex is:2, len of log is:10, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}], args commitIndex is:1
2024/05/21 17:37:57 server[1], term:2, before send log to others, ths allSendLogArgs is:[
 {2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}] 1 2 false}
 {0 0 0 0 [] 0 0 false} 
 {2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}] 1 2 false}],


2024/05/21 17:37:57 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}] log, commit index is:1
2024/05/21 17:37:57 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 888}] log, commit index is:1

2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:2, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:1
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:2


2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:3, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:2
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:3
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:4, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:3
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:4
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:5, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:4
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:5
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:6, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:5
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:6
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:7, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:6
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:7
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:8, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:7
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:8
2024/05/21 17:37:57 server[1]begin to cacu match count, begin index is:9, len of log is:10, this is:2 server reply,and now match index is:[1 9 9],commit index is:8
2024/05/21 17:37:57 leader server[1] apply a log entry to applyCh, log term is:2, log index is:9


2024/05/21 17:37:57 server[1]after append entries to 2 server request, now it commit index is:9
2024/05/21 17:37:57 server[1]after append entries to 0 server request, now it commit index is:9


panic: runtime error: index out of range [0] with length 0

goroutine 25 [running]:
6.5840/raft.(*Raft).GetFirstLog(...)
	/home/jie/6.5840/src/raft/raft.go:389


6.5840/raft.(*Raft).Snapshot(0xc00017e0f0, 0x9, {0xc000133a80, 0x61, 0x80})
	/home/jie/6.5840/src/raft/raft.go:219 +0x5b6


6.5840/raft.(*config).applierSnap(0xc00017a000, 0x1, 0xc0001083c0)
	/home/jie/6.5840/src/raft/config.go:257 +0x8d8
created by 6.5840/raft.(*config).start1 in goroutine 18
	/home/jie/6.5840/src/raft/config.go:328 +0x62c
exit status 2
FAIL	6.5840/raft	1.779s
end of test 1...




Running test 2....
Test (3D): snapshots basic ...
2024/05/21 17:37:58 server[0]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:37:58 server[0]should begin a election
2024/05/21 17:37:58 server[2]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:37:58 server[2]should begin a election
2024/05/21 17:37:58 server[0]has vote for himself, Term is:1
2024/05/21 17:37:58 server[1]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:37:58 server[2]has vote for himself, Term is:1
2024/05/21 17:37:58 server[1]should begin a election
2024/05/21 17:37:58 server[1]has vote for himself, Term is:1
2024/05/21 17:37:58 server[2] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:37:58 server[0] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:37:58 server[0] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:58 server[0]not granted to server 2, because server has vote to 0
2024/05/21 17:37:58 server[0] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:37:58 server[2] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:58 server[2]not granted to server 0, because server has vote to 2
2024/05/21 17:37:58 server[2] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:37:58 server[1] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:37:58 server[1] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:58 server[0] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:37:58 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:58 server[0]not granted to server 1, because server has vote to 0
2024/05/21 17:37:58 server[0] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:37:58 server[2] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:37:58 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:58 server[2]not granted to server 1, because server has vote to 2
2024/05/21 17:37:58 server[2] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:37:58 server[0] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:58 server[1]not granted to server 0, because server has vote to 1
2024/05/21 17:37:58 server[2] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:58 server[1] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:37:58 server[2] wait walk up, voteCount is:1, finishRequest:2, len/2 is:1, vote plus finish is:2
2024/05/21 17:37:58 server[0] wait walk up, voteCount is:1, finishRequest:2, len/2 is:1, vote plus finish is:2
2024/05/21 17:37:58 server[1] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:37:58 server[1] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:37:58 server[1]not granted to server 2, because server has vote to 1
2024/05/21 17:37:58 server[1] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:37:58 server[1] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:58 server[0] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:58 server[1] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:58 server[2] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:37:58 server[1] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:37:58 server[2] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:37:58 server[2], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:37:58 server[1], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:37:58 server[0] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:37:58 server[0], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:37:58 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:58 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:58 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:58 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:58 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:37:59 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:true
2024/05/21 17:37:59 server[2]should begin a election
2024/05/21 17:37:59 server[2]has vote for himself, Term is:2
2024/05/21 17:37:59 server[1] recive 2 server vote request, args Term is:2, get lock success
2024/05/21 17:37:59 server[1] begin to handler vote request, local Term is:1, request server is:2, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:37:59 server[1]handler 2 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:37:59 server[1] has finish request vote, request server is:2, args Term is:2, result granted is:true
2024/05/21 17:37:59 server[0] recive 2 server vote request, args Term is:2, get lock success
2024/05/21 17:37:59 server[0] begin to handler vote request, local Term is:1, request server is:2, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:37:59 server[0]handler 2 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:37:59 server[2] got server 1 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:37:59 server[0] has finish request vote, request server is:2, args Term is:2, result granted is:true
2024/05/21 17:37:59 server[2] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:37:59 server[2], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:2
2024/05/21 17:37:59 server[2], become a leader, got 2 tickets


2024/05/21 17:37:59 server[2] got server 0 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:37:59 server[1]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0}]
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 true} {0 0 0 0 [] 0 0 true} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:37:59 server[2], server term:2, begin to send snap shot to:1, args is:{2 2 0 -1 0 [] true}
2024/05/21 17:37:59 server[2], server term:2, begin to send snap shot to:0, args is:{2 2 0 -1 0 [] true}
2024/05/21 17:37:59 server[1]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:37:59 server[0]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:37:59 server[2], term:2, got peer:0 send snapshot reply
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:1, len of log is:2, this is:0 server reply,and now match index is:[0 0 1],commit index is:0
2024/05/21 17:37:59 server[2], term:2, got peer:1 send snapshot reply
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:1, len of log is:2, this is:1 server reply,and now match index is:[0 0 1],commit index is:0
2024/05/21 17:37:59 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:37:59 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[{2 2 0 -1 [{2 1 0}] 0 2 false} {2 2 0 -1 [{2 1 0}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:37:59 server[0]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:37:59 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:37:59 server[1]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:1, len of log is:2, this is:0 server reply,and now match index is:[1 0 1],commit index is:0
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:1
2024/05/21 17:37:59 server[2]after append entries to 0 server request, now it commit index is:1
2024/05/21 17:37:59 server[1]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:37:59 server[2]after append entries to 1 server request, now it commit index is:1
2024/05/21 17:37:59 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[{2 2 1 2 [] 1 1 false} {2 2 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:37:59 server[1]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:37:59 follower server[1]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:37:59 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:37:59 follower server[0]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:37:59 server[1]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:59 server[2]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:59 snapcommon: now command 0 should make same at three server
2024/05/21 17:37:59 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[{2 2 1 2 [] 1 1 false} {2 2 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:37:59 server[1]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:59 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[{2 2 1 2 [] 1 1 false} {2 2 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:37:59 server[1]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[{2 2 1 2 [] 1 1 false} {2 2 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:37:59 server[1]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 server[2]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:59 server[1]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:37:59 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[{2 2 1 2 [] 1 1 false} {2 2 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:37:59 server[1]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:37:59 snapcommon: leader1 is:2


2024/05/21 17:37:59 snapcommon: send 0 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0}]
2024/05/21 17:37:59 snapcommon: send 1 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0}]
2024/05/21 17:37:59 snapcommon: send 2 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0}]
2024/05/21 17:37:59 snapcommon: send 3 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0}]
2024/05/21 17:37:59 snapcommon: send 4 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0}]
2024/05/21 17:37:59 snapcommon: send 5 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0}]
2024/05/21 17:37:59 snapcommon: send 6 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0}]
2024/05/21 17:37:59 snapcommon: send 7 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0}]
2024/05/21 17:37:59 snapcommon: send 8 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0}]
2024/05/21 17:37:59 snapcommon: send 9 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0}]
2024/05/21 17:37:59 snapcommon: send 10 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0}]
2024/05/21 17:37:59 snapcommon: send 11 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0}]
2024/05/21 17:37:59 snapcommon: send 12 to 2 server
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0}]
2024/05/21 17:37:59 server[2]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}]



2024/05/21 17:37:59 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:2, len of log is:16, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}], args commitIndex is:1
2024/05/21 17:37:59 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:2, len of log is:16, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}], args commitIndex is:1
2024/05/21 17:37:59 server[2], term:2, before send log to others, ths allSendLogArgs is:[
	{2 2 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] 1 2 false} 
	{2 2 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] 1 2 false} 
	{0 0 0 0 [] 0 0 false}],



2024/05/21 17:37:59 server[1]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:37:59 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:2, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:2, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:1
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:2

2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:3, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:2
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:3
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:4, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:3
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:4
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:5, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:4
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:5
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:6, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:5
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:6
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:7, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:6
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:7
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:8, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:7
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:8
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:9, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:8
2024/05/21 17:37:59 leader server[2] apply a log entry to applyCh, log term is:2, log index is:9
2024/05/21 17:37:59 server[2]begin to cacu match count, begin index is:10, len of log is:16, this is:1 server reply,and now match index is:[1 15 15],commit index is:9



2024/05/21 17:37:59 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:00 server[1]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:00 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:00 server[1]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:true
2024/05/21 17:38:00 server[1]should begin a election
2024/05/21 17:38:00 server[1]has vote for himself, Term is:3
2024/05/21 17:38:00 server[0] recive 1 server vote request, args Term is:3, get lock success
2024/05/21 17:38:00 server[0] begin to handler vote request, local Term is:2, request server is:1, request Term is:3, request log last term is:2, request log last index is:15
2024/05/21 17:38:00 server[0]handler 1 vote request, args term is:3 bigger than local term:3, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:00 server[0] has finish request vote, request server is:1, args Term is:3, result granted is:true
2024/05/21 17:38:00 server[1] got server 0 vote respone, args Term is:3,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:00 server[1] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:38:00 server[1], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:3
2024/05/21 17:38:00 server[1], become a leader, got 2 tickets


=== server1成为了term为3的leader
2024/05/21 17:38:00 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:00 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:00 server[1], term:3, before send log to others, ths allSendLogArgs is:
[{3 1 14 2 [{2 15 888}] 0 2 false}
 {0 0 0 0 [] 0 0 false} 
 {3 1 14 2 [{2 15 888}] 0 2 false}],


2024/05/21 17:38:00 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1

2024/05/21 17:38:00 server[1]begin to cacu match count, begin index is:1, len of log is:16, this is:0 server reply,and now match index is:[15 0 0],commit index is:0
2024/05/21 17:38:00 server[1]after append entries to 0 server request, now it commit index is:0



2024/05/21 17:38:00 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:00 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:00 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:00 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1

2024/05/21 17:38:00 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:00 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:00 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:00 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1

2024/05/21 17:38:00 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:00 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:00 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:00 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:00 server[1]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:false

2024/05/21 17:38:00 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:00 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:00 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:00 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[0]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[1]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:true
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[0]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[1]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:true
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[0]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [] 0 1 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:01 server[1]get a log, current term is:3, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}]
2024/05/21 17:38:01 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}] log, the nextIndex is:16, len of log is:17, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{3 16 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}] log, the nextIndex is:15, len of log is:17, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888} {3 16 888}], args commitIndex is:0
2024/05/21 17:38:01 server[1], term:3, before send log to others, ths allSendLogArgs is:[{3 1 15 2 [{3 16 888}] 0 2 false} {0 0 0 0 [] 0 0 false} {3 1 14 2 [{2 15 888} {3 16 888}] 0 2 false}],
2024/05/21 17:38:01 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:1, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}] log, commit index is:1




2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:1, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:2, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:3, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:4, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:5, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:6, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:7, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:8, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:9, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:10, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:11, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:12, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:13, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:14, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:15, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0
2024/05/21 17:38:01 server[1]begin to cacu match count, begin index is:16, len of log is:17, this is:0 server reply,and now match index is:[16 16 0],commit index is:0


2024/05/21 17:38:01 leader server[1] apply a log entry to applyCh, log term is:3, log index is:16
2024/05/21 17:38:01 apply error: server 1 apply out of order, expected Index 2, got 1
exit status 1
FAIL	6.5840/raft	3.660s
end of test 2...
Running test 3....
Test (3D): snapshots basic ...
2024/05/21 17:38:02 server[0]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:02 server[0]should begin a election
2024/05/21 17:38:02 server[1]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:02 server[1]should begin a election
2024/05/21 17:38:02 server[0]has vote for himself, Term is:1
2024/05/21 17:38:02 server[1]has vote for himself, Term is:1
2024/05/21 17:38:02 server[2]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:02 server[2]should begin a election
2024/05/21 17:38:02 server[2]has vote for himself, Term is:1
2024/05/21 17:38:02 server[2] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:38:02 server[2] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:02 server[2]not granted to server 0, because server has vote to 2
2024/05/21 17:38:02 server[2] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:38:02 server[1] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:38:02 server[1] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:02 server[0] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:02 server[2] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:38:02 server[0] wait walk up, voteCount is:1, finishRequest:2, len/2 is:1, vote plus finish is:2
2024/05/21 17:38:02 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:02 server[0] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:38:02 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:02 server[1]not granted to server 0, because server has vote to 1
2024/05/21 17:38:02 server[1] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:38:02 server[2]not granted to server 1, because server has vote to 2
2024/05/21 17:38:02 server[2] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:38:02 server[1] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:38:02 server[0]not granted to server 1, because server has vote to 0
2024/05/21 17:38:02 server[1] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:02 server[1]not granted to server 2, because server has vote to 1
2024/05/21 17:38:02 server[1] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:38:02 server[0] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:38:02 server[1] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:02 server[2] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:02 server[0] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:38:02 server[2] wait walk up, voteCount is:1, finishRequest:2, len/2 is:1, vote plus finish is:2
2024/05/21 17:38:02 server[0] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:02 server[0]not granted to server 2, because server has vote to 0
2024/05/21 17:38:02 server[0] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:38:02 server[1] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:02 server[0] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:02 server[1] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:02 server[0] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:02 server[2] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:02 server[0], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:02 server[2] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:02 server[2], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:02 server[1], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:02 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:02 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:02 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:02 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:02 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:02 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:02 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:03 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:true
2024/05/21 17:38:03 server[1]should begin a election
2024/05/21 17:38:03 server[1]has vote for himself, Term is:2
2024/05/21 17:38:03 server[2] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:38:03 server[0] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:38:03 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:38:03 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:38:03 server[0]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:03 server[2]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:03 server[0] has finish request vote, request server is:1, args Term is:2, result granted is:true
2024/05/21 17:38:03 server[2] has finish request vote, request server is:1, args Term is:2, result granted is:true
2024/05/21 17:38:03 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 server[1] got server 0 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:03 server[1] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:38:03 server[1], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:2
2024/05/21 17:38:03 server[1], become a leader, got 2 tickets
2024/05/21 17:38:03 server[1] got server 2 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:03 server[1], term:2, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 true} {0 0 0 0 [] 0 0 false} {0 0 0 0 [] 0 0 true}],
2024/05/21 17:38:03 server[1], server term:2, begin to send snap shot to:2, args is:{2 1 0 -1 0 [] true}
2024/05/21 17:38:03 server[1], server term:2, begin to send snap shot to:0, args is:{2 1 0 -1 0 [] true}
2024/05/21 17:38:03 server[0]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:38:03 server[2]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:38:03 server[1], term:2, got peer:0 send snapshot reply
2024/05/21 17:38:03 server[1], term:2, got peer:2 send snapshot reply
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0}]
2024/05/21 17:38:03 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:38:03 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:38:03 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 0 -1 [{2 1 0}] 0 2 false} {0 0 0 0 [] 0 0 false} {2 1 0 -1 [{2 1 0}] 0 2 false}],
2024/05/21 17:38:03 server[2]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:38:03 server[0]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:38:03 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:03 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:03 server[1]begin to cacu match count, begin index is:1, len of log is:2, this is:0 server reply,and now match index is:[1 1 0],commit index is:0
2024/05/21 17:38:03 leader server[1] apply a log entry to applyCh, log term is:2, log index is:1
2024/05/21 17:38:03 server[1]after append entries to 0 server request, now it commit index is:1
2024/05/21 17:38:03 server[1]after append entries to 2 server request, now it commit index is:1
2024/05/21 17:38:03 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:03 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:03 follower server[0]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:38:03 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:03 follower server[2]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:38:03 snapcommon: now command 0 should make same at three server
2024/05/21 17:38:03 server[1]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:03 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:03 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:03 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:03 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:03 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:03 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 server[1]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:03 snapcommon: leader1 is:1
2024/05/21 17:38:03 snapcommon: send 0 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0}]
2024/05/21 17:38:03 snapcommon: send 1 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0}]
2024/05/21 17:38:03 snapcommon: send 2 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0}]
2024/05/21 17:38:03 snapcommon: send 3 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0}]
2024/05/21 17:38:03 snapcommon: send 4 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0}]
2024/05/21 17:38:03 snapcommon: send 5 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0}]
2024/05/21 17:38:03 snapcommon: send 6 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0}]
2024/05/21 17:38:03 snapcommon: send 7 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0}]
2024/05/21 17:38:03 snapcommon: send 8 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0}]
2024/05/21 17:38:03 snapcommon: send 9 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0}]
2024/05/21 17:38:03 snapcommon: send 10 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0}]
2024/05/21 17:38:03 snapcommon: send 11 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0}]
2024/05/21 17:38:03 snapcommon: send 12 to 1 server
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0}]
2024/05/21 17:38:03 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}]
2024/05/21 17:38:04 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:2, len of log is:16, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}], args commitIndex is:1
2024/05/21 17:38:04 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:2, len of log is:16, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}], args commitIndex is:1
2024/05/21 17:38:04 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] 1 2 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] 1 2 false}],
2024/05/21 17:38:04 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:04 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:2, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:1
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:2
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:3, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:2
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:3
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:4, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:3
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:4
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:5, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:4
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:5
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:6, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:5
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:6
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:7, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:6
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:7
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:8, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:7
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:8
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:9, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:8
2024/05/21 17:38:04 leader server[1] apply a log entry to applyCh, log term is:2, log index is:9
2024/05/21 17:38:04 server[1]begin to cacu match count, begin index is:10, len of log is:16, this is:2 server reply,and now match index is:[1 15 15],commit index is:9
2024/05/21 17:38:04 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:04 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:04 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:04 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:true
2024/05/21 17:38:04 server[0]should begin a election
2024/05/21 17:38:04 server[0]has vote for himself, Term is:3
2024/05/21 17:38:04 server[2] recive 0 server vote request, args Term is:3, get lock success
2024/05/21 17:38:04 server[2] begin to handler vote request, local Term is:2, request server is:0, request Term is:3, request log last term is:2, request log last index is:15
2024/05/21 17:38:04 server[2]handler 0 vote request, args term is:3 bigger than local term:3, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:04 server[2] has finish request vote, request server is:0, args Term is:3, result granted is:true
2024/05/21 17:38:04 server[0] got server 2 vote respone, args Term is:3,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:04 server[0] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:38:04 server[0], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:3
2024/05/21 17:38:04 server[0], become a leader, got 2 tickets
2024/05/21 17:38:04 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:04 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:04 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 14 2 [{2 15 888}] 0 2 false}],
2024/05/21 17:38:04 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:04 server[0]begin to cacu match count, begin index is:1, len of log is:16, this is:2 server reply,and now match index is:[0 0 15],commit index is:0
2024/05/21 17:38:04 server[0]after append entries to 2 server request, now it commit index is:0
2024/05/21 17:38:04 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:04 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:04 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:04 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:04 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:04 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:04 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:04 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:04 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:04 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:true
2024/05/21 17:38:05 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:15, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888}], args commitIndex is:0
2024/05/21 17:38:05 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, the nextIndex is:16, len of log is:16, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:05 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888}] 0 2 false} {3 0 15 2 [] 0 1 false}],
2024/05/21 17:38:05 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888}] log, commit index is:1
2024/05/21 17:38:05 server[0]get a log, current term is:3, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}]
2024/05/21 17:38:06 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}] log, the nextIndex is:15, len of log is:17, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 15 888} {3 16 888}], args commitIndex is:0
2024/05/21 17:38:06 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}] log, the nextIndex is:16, len of log is:17, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{3 16 888}], args commitIndex is:0
2024/05/21 17:38:06 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 14 2 [{2 15 888} {3 16 888}] 0 2 false} {3 0 15 2 [{3 16 888}] 0 2 false}],
2024/05/21 17:38:06 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 0} {2 12 0} {2 13 0} {2 14 0} {2 15 888} {3 16 888}] log, commit index is:1
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:1, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:2, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:3, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:4, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:5, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:6, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:7, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:8, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:9, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:10, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:11, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:12, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:13, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:14, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:15, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 server[0]begin to cacu match count, begin index is:16, len of log is:17, this is:2 server reply,and now match index is:[16 0 16],commit index is:0
2024/05/21 17:38:06 leader server[0] apply a log entry to applyCh, log term is:3, log index is:16
2024/05/21 17:38:06 apply error: server 0 apply out of order, expected Index 2, got 1
exit status 1
FAIL	6.5840/raft	3.877s
end of test 3...
Running test 4....
Test (3D): snapshots basic ...
2024/05/21 17:38:06 server[0]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:06 server[0]should begin a election
2024/05/21 17:38:06 server[2]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:06 server[1]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:06 server[1]should begin a election
2024/05/21 17:38:06 server[1]has vote for himself, Term is:1
2024/05/21 17:38:06 server[2]should begin a election
2024/05/21 17:38:06 server[2]has vote for himself, Term is:1
2024/05/21 17:38:06 server[0]has vote for himself, Term is:1
2024/05/21 17:38:06 server[1] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:38:06 server[0] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:38:06 server[2] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:38:06 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:06 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:06 server[0]not granted to server 1, because server has vote to 0
2024/05/21 17:38:06 server[2]not granted to server 1, because server has vote to 2
2024/05/21 17:38:06 server[2] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:38:06 server[1] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:06 server[1]not granted to server 2, because server has vote to 1
2024/05/21 17:38:06 server[1] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:38:06 server[2] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:38:06 server[2] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:06 server[2]not granted to server 0, because server has vote to 2
2024/05/21 17:38:06 server[2] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:38:06 server[1] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:38:06 server[1] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:06 server[2] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:06 server[2] wait walk up, voteCount is:1, finishRequest:2, len/2 is:1, vote plus finish is:2
2024/05/21 17:38:06 server[0] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:38:06 server[0] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:06 server[0] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:38:06 server[0] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:06 server[1]not granted to server 0, because server has vote to 1
2024/05/21 17:38:06 server[1] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:38:06 server[0]not granted to server 2, because server has vote to 0
2024/05/21 17:38:06 server[0] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:38:06 server[0] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:06 server[1] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:06 server[1] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:06 server[0] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:06 server[0], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:06 server[1] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:06 server[1], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:06 server[2] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:06 server[2] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:06 server[2], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:06 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:06 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:06 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:06 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:06 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:06 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:07 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:07 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:07 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:true
2024/05/21 17:38:07 server[1]should begin a election
2024/05/21 17:38:07 server[1]has vote for himself, Term is:2
2024/05/21 17:38:07 server[2] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:38:07 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:38:07 server[0] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:38:07 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:38:07 server[2]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:07 server[0]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:07 server[2] has finish request vote, request server is:1, args Term is:2, result granted is:true
2024/05/21 17:38:07 server[0] has finish request vote, request server is:1, args Term is:2, result granted is:true
2024/05/21 17:38:07 server[1] got server 0 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:07 server[1] got server 2 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:07 server[1] wait walk up, voteCount is:3, finishRequest:3, len/2 is:1, vote plus finish is:3
2024/05/21 17:38:07 server[1], vote for leader, got 3 tickets, got 0 failRpc, total 3 request, args Term is:2
2024/05/21 17:38:07 server[1], become a leader, got 3 tickets
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 true} {0 0 0 0 [] 0 0 false} {0 0 0 0 [] 0 0 true}],
2024/05/21 17:38:07 server[1], server term:2, begin to send snap shot to:2, args is:{2 1 0 -1 0 [] true}
2024/05/21 17:38:07 server[1], server term:2, begin to send snap shot to:0, args is:{2 1 0 -1 0 [] true}
2024/05/21 17:38:07 server[0]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:38:07 server[2]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:38:07 server[1], term:2, got peer:0 send snapshot reply
2024/05/21 17:38:07 server[1], term:2, got peer:2 send snapshot reply
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0}]
2024/05/21 17:38:07 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:38:07 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 0 -1 [{2 1 0}] 0 2 false} {0 0 0 0 [] 0 0 false} {2 1 0 -1 [{2 1 0}] 0 2 false}],
2024/05/21 17:38:07 server[2]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:38:07 server[0]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:38:07 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:07 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:1, len of log is:2, this is:0 server reply,and now match index is:[1 1 0],commit index is:0
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:1
2024/05/21 17:38:07 server[1]after append entries to 0 server request, now it commit index is:1
2024/05/21 17:38:07 server[1]after append entries to 2 server request, now it commit index is:1
2024/05/21 17:38:07 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:07 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:07 follower server[2]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:38:07 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:07 follower server[0]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:38:07 snapcommon: now command 0 should make same at three server
2024/05/21 17:38:07 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:07 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:07 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[1]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:07 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:07 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:07 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:07 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[1]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:07 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:07 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:07 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:07 snapcommon: leader1 is:1
2024/05/21 17:38:07 snapcommon: send 0 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0}]
2024/05/21 17:38:07 snapcommon: send 1 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0}]
2024/05/21 17:38:07 snapcommon: send 2 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0}]
2024/05/21 17:38:07 snapcommon: send 3 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0}]
2024/05/21 17:38:07 snapcommon: send 4 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0}]
2024/05/21 17:38:07 snapcommon: send 5 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0}]
2024/05/21 17:38:07 snapcommon: send 6 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0}]
2024/05/21 17:38:07 snapcommon: send 7 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0}]
2024/05/21 17:38:07 snapcommon: send 8 to 1 server
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0}]
2024/05/21 17:38:07 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}]
2024/05/21 17:38:07 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:2, len of log is:12, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}], args commitIndex is:1
2024/05/21 17:38:07 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:2, len of log is:12, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}], args commitIndex is:1
2024/05/21 17:38:07 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] 1 2 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] 1 2 false}],
2024/05/21 17:38:07 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:07 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:2, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:1
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:2
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:3, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:2
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:3
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:4, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:3
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:4
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:5, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:4
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:5
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:6, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:5
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:6
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:7, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:6
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:7
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:8, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:7
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:8
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:9, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:8
2024/05/21 17:38:07 leader server[1] apply a log entry to applyCh, log term is:2, log index is:9
2024/05/21 17:38:07 server[1]begin to cacu match count, begin index is:10, len of log is:12, this is:0 server reply,and now match index is:[11 11 1],commit index is:9
2024/05/21 17:38:07 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:08 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:08 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:08 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:true
2024/05/21 17:38:08 server[2]should begin a election
2024/05/21 17:38:08 server[2]has vote for himself, Term is:3
2024/05/21 17:38:08 server[0] recive 2 server vote request, args Term is:3, get lock success
2024/05/21 17:38:08 server[0] begin to handler vote request, local Term is:2, request server is:2, request Term is:3, request log last term is:2, request log last index is:11
2024/05/21 17:38:08 server[0]handler 2 vote request, args term is:3 bigger than local term:3, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:08 server[0] has finish request vote, request server is:2, args Term is:3, result granted is:true
2024/05/21 17:38:08 server[2] got server 0 vote respone, args Term is:3,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:08 server[2] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:38:08 server[2], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:3
2024/05/21 17:38:08 server[2], become a leader, got 2 tickets
2024/05/21 17:38:08 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:08 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:08 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 10 2 [{2 11 888}] 0 2 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:08 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:08 server[2]begin to cacu match count, begin index is:1, len of log is:12, this is:0 server reply,and now match index is:[11 0 0],commit index is:0
2024/05/21 17:38:08 server[2]after append entries to 0 server request, now it commit index is:0
2024/05/21 17:38:08 server[0]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:08 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:08 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:08 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:08 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:08 server[2]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:08 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:08 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:08 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:08 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[0]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:09 server[2]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:true
2024/05/21 17:38:09 server[0]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:12, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [] 0 1 false} {3 2 10 2 [{2 11 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888}] log, commit index is:1
2024/05/21 17:38:09 server[2]get a log, current term is:3, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888} {3 12 888}]
2024/05/21 17:38:09 server[2] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888} {3 12 888}] log, the nextIndex is:12, len of log is:13, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{3 12 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888} {3 12 888}] log, the nextIndex is:11, len of log is:13, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 11 888} {3 12 888}], args commitIndex is:0
2024/05/21 17:38:09 server[2], term:3, before send log to others, ths allSendLogArgs is:[{3 2 11 2 [{3 12 888}] 0 2 false} {3 2 10 2 [{2 11 888} {3 12 888}] 0 2 false} {0 0 0 0 [] 0 0 false}],
2024/05/21 17:38:09 server[0]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:2, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 0} {2 11 888} {3 12 888}] log, commit index is:1
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:1, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:2, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:3, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:4, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:5, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:6, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:7, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:8, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:9, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:10, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:11, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 server[2]begin to cacu match count, begin index is:12, len of log is:13, this is:0 server reply,and now match index is:[12 0 12],commit index is:0
2024/05/21 17:38:09 leader server[2] apply a log entry to applyCh, log term is:3, log index is:12
2024/05/21 17:38:09 apply error: server 2 apply out of order, expected Index 2, got 1
exit status 1
FAIL	6.5840/raft	3.658s
end of test 4...
Running test 5....
2024/05/21 17:38:10 server[0]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:10 server[0]should begin a election
2024/05/21 17:38:10 server[1]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
Test (3D): snapshots basic ...
2024/05/21 17:38:10 server[1]should begin a election
2024/05/21 17:38:10 server[1]has vote for himself, Term is:1
2024/05/21 17:38:10 server[2]begin a new ticker, local state is:2, local Term is:0, and time is bigger than interval?:true
2024/05/21 17:38:10 server[2]should begin a election
2024/05/21 17:38:10 server[0]has vote for himself, Term is:1
2024/05/21 17:38:10 server[2]has vote for himself, Term is:1
2024/05/21 17:38:10 server[2] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:38:10 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:10 server[2]not granted to server 1, because server has vote to 2
2024/05/21 17:38:10 server[2] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:38:10 server[0] recive 1 server vote request, args Term is:1, get lock success
2024/05/21 17:38:10 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:10 server[0]not granted to server 1, because server has vote to 0
2024/05/21 17:38:10 server[1] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:38:10 server[2] recive 0 server vote request, args Term is:1, get lock success
2024/05/21 17:38:10 server[2] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:10 server[2]not granted to server 0, because server has vote to 2
2024/05/21 17:38:10 server[2] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:38:10 server[1] begin to handler vote request, local Term is:1, request server is:0, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:10 server[1]not granted to server 0, because server has vote to 1
2024/05/21 17:38:10 server[1] has finish request vote, request server is:0, args Term is:1, result granted is:false
2024/05/21 17:38:10 server[0] has finish request vote, request server is:1, args Term is:1, result granted is:false
2024/05/21 17:38:10 server[1] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:38:10 server[1] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:10 server[0] recive 2 server vote request, args Term is:1, get lock success
2024/05/21 17:38:10 server[0] begin to handler vote request, local Term is:1, request server is:2, request Term is:1, request log last term is:-1, request log last index is:0
2024/05/21 17:38:10 server[0]not granted to server 2, because server has vote to 0
2024/05/21 17:38:10 server[0] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:38:10 server[1]not granted to server 2, because server has vote to 1
2024/05/21 17:38:10 server[1] has finish request vote, request server is:2, args Term is:1, result granted is:false
2024/05/21 17:38:10 server[1] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:10 server[1] wait walk up, voteCount is:1, finishRequest:2, len/2 is:1, vote plus finish is:2
2024/05/21 17:38:10 server[0] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:10 server[1] got server 2 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:10 server[2] got server 0 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:10 server[1] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:10 server[2] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:10 server[1], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:10 server[0] got server 1 vote respone, args Term is:1,reply grante:false, is ok? true, get lock success
2024/05/21 17:38:10 server[2] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:10 server[0] wait walk up, voteCount is:1, finishRequest:3, len/2 is:1, vote plus finish is:1
2024/05/21 17:38:10 server[2], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:10 server[0], vote for leader, got 1 tickets, got 0 failRpc, total 3 request, args Term is:1
2024/05/21 17:38:10 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:10 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:10 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:10 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:10 server[0]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:10 server[2]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:false
2024/05/21 17:38:11 server[1]begin a new ticker, local state is:3, local Term is:1, and time is bigger than interval?:true
2024/05/21 17:38:11 server[1]should begin a election
2024/05/21 17:38:11 server[1]has vote for himself, Term is:2
2024/05/21 17:38:11 server[0] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:38:11 server[0] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:38:11 server[2] recive 1 server vote request, args Term is:2, get lock success
2024/05/21 17:38:11 server[0]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:11 server[2] begin to handler vote request, local Term is:1, request server is:1, request Term is:2, request log last term is:-1, request log last index is:0
2024/05/21 17:38:11 server[0] has finish request vote, request server is:1, args Term is:2, result granted is:true
2024/05/21 17:38:11 server[2]handler 1 vote request, args term is:2 bigger than local term:2, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:11 server[2] has finish request vote, request server is:1, args Term is:2, result granted is:true
2024/05/21 17:38:11 server[1] got server 0 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:11 server[1] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:38:11 server[1], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:2
2024/05/21 17:38:11 server[1], become a leader, got 2 tickets
2024/05/21 17:38:11 server[1] got server 2 vote respone, args Term is:2,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:11 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 true} {0 0 0 0 [] 0 0 false} {0 0 0 0 [] 0 0 true}],
2024/05/21 17:38:11 server[1], server term:2, begin to send snap shot to:2, args is:{2 1 0 -1 0 [] true}
2024/05/21 17:38:11 server[1], server term:2, begin to send snap shot to:0, args is:{2 1 0 -1 0 [] true}
2024/05/21 17:38:11 server[2]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:38:11 server[0]discoad a snapshot,args lastIndex is:0,args last term is:-1, local first log index is:0, local last log index is:0, local index pos term is:-1
2024/05/21 17:38:11 server[1], term:2, got peer:2 send snapshot reply
2024/05/21 17:38:11 server[1], term:2, got peer:0 send snapshot reply
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0}]
2024/05/21 17:38:11 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:38:11 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:1, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 1 0}], args commitIndex is:0
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 0 -1 [{2 1 0}] 0 2 false} {0 0 0 0 [] 0 0 false} {2 1 0 -1 [{2 1 0}] 0 2 false}],
2024/05/21 17:38:11 server[2]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:38:11 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:11 server[0]got a append entries rpc,but preLogIndex:0 is less than local first log index:0,so terncate
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:1, len of log is:2, this is:2 server reply,and now match index is:[0 1 1],commit index is:0
2024/05/21 17:38:11 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:1
2024/05/21 17:38:11 server[1]after append entries to 2 server request, now it commit index is:1
2024/05/21 17:38:11 server[1]after append entries to 0 server request, now it commit index is:1
2024/05/21 17:38:11 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:11 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:11 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:11 follower server[0]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:38:11 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:0
2024/05/21 17:38:11 follower server[2]apply log to applych,local term is:2, log term is:2, log index is:1
2024/05/21 17:38:11 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:11 snapcommon: now command 0 should make same at three server
2024/05/21 17:38:11 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:11 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[1]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:11 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:11 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:11 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:11 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[1]begin a new ticker, local state is:1, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:11 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0}] log, the nextIndex is:2, len of log is:2, status is:1, and term is:2, send args term is:2, msg type is:1, papare to send log is:[], args commitIndex is:1
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [] 1 1 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [] 1 1 false}],
2024/05/21 17:38:11 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0}] log, commit index is:1
2024/05/21 17:38:11 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:11 snapcommon: leader1 is:1
2024/05/21 17:38:11 snapcommon: send 0 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0}]
2024/05/21 17:38:11 snapcommon: send 1 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0}]
2024/05/21 17:38:11 snapcommon: send 2 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0}]
2024/05/21 17:38:11 snapcommon: send 3 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0}]
2024/05/21 17:38:11 snapcommon: send 4 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0}]
2024/05/21 17:38:11 snapcommon: send 5 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0}]
2024/05/21 17:38:11 snapcommon: send 6 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0}]
2024/05/21 17:38:11 snapcommon: send 7 to 1 server
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0}]
2024/05/21 17:38:11 server[1]get a log, current term is:2, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}]
2024/05/21 17:38:11 server[1] prepare send log to 0,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:2, len of log is:11, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}], args commitIndex is:1
2024/05/21 17:38:11 server[1] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:2, len of log is:11, status is:1, and term is:2, send args term is:2, msg type is:2, papare to send log is:[{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}], args commitIndex is:1
2024/05/21 17:38:11 server[1], term:2, before send log to others, ths allSendLogArgs is:[{2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] 1 2 false} {0 0 0 0 [] 0 0 false} {2 1 1 2 [{2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] 1 2 false}],
2024/05/21 17:38:11 server[2]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:11 server[0]got heart beat, reset timeout, local Term is:2, local status is:2, args server id is:1, args Term is:2,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:2, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:1
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:2
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:3, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:2
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:3
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:4, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:3
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:4
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:5, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:4
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:5
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:6, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:5
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:6
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:7, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:6
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:7
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:8, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:7
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:8
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:9, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:8
2024/05/21 17:38:11 leader server[1] apply a log entry to applyCh, log term is:2, log index is:9
2024/05/21 17:38:11 server[1]begin to cacu match count, begin index is:10, len of log is:11, this is:0 server reply,and now match index is:[10 10 1],commit index is:9
2024/05/21 17:38:12 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:12 server[2]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:false
2024/05/21 17:38:12 server[0]begin a new ticker, local state is:2, local Term is:2, and time is bigger than interval?:true
2024/05/21 17:38:12 server[0]should begin a election
2024/05/21 17:38:12 server[0]has vote for himself, Term is:3
2024/05/21 17:38:12 server[2] recive 0 server vote request, args Term is:3, get lock success
2024/05/21 17:38:12 server[2] begin to handler vote request, local Term is:2, request server is:0, request Term is:3, request log last term is:2, request log last index is:10
2024/05/21 17:38:12 server[2]handler 0 vote request, args term is:3 bigger than local term:3, so make self to follower,and votefor is:-1,status is:2
2024/05/21 17:38:12 server[2] has finish request vote, request server is:0, args Term is:3, result granted is:true
2024/05/21 17:38:12 server[0] got server 2 vote respone, args Term is:3,reply grante:true, is ok? true, get lock success
2024/05/21 17:38:12 server[0] wait walk up, voteCount is:2, finishRequest:2, len/2 is:1, vote plus finish is:3
2024/05/21 17:38:12 server[0], vote for leader, got 2 tickets, got 0 failRpc, total 2 request, args Term is:3
2024/05/21 17:38:12 server[0], become a leader, got 2 tickets
2024/05/21 17:38:12 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:12 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:12 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 9 2 [{2 10 888}] 0 2 false}],
2024/05/21 17:38:12 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:12 server[0]begin to cacu match count, begin index is:1, len of log is:11, this is:2 server reply,and now match index is:[0 0 10],commit index is:0
2024/05/21 17:38:12 server[0]after append entries to 2 server request, now it commit index is:0
2024/05/21 17:38:12 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:12 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:12 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:12 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:12 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:12 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:12 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:12 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:12 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:12 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:12 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:12 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:12 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:12 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:12 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:12 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:12 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:12 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:12 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:12 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:true
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:true
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:10, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, the nextIndex is:11, len of log is:11, status is:1, and term is:3, send args term is:3, msg type is:1, papare to send log is:[], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888}] 0 2 false} {3 0 10 2 [] 0 1 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888}] log, commit index is:1
2024/05/21 17:38:13 server[2]begin a new ticker, local state is:2, local Term is:3, and time is bigger than interval?:false
2024/05/21 17:38:13 server[0]get a log, current term is:3, current state is:1, all log is:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888} {3 11 888}]
2024/05/21 17:38:13 server[0]begin a new ticker, local state is:1, local Term is:3, and time is bigger than interval?:true
2024/05/21 17:38:13 server[0] prepare send log to 1,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888} {3 11 888}] log, the nextIndex is:10, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{2 10 888} {3 11 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0] prepare send log to 2,leader have [{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888} {3 11 888}] log, the nextIndex is:11, len of log is:12, status is:1, and term is:3, send args term is:3, msg type is:2, papare to send log is:[{3 11 888}], args commitIndex is:0
2024/05/21 17:38:13 server[0], term:3, before send log to others, ths allSendLogArgs is:[{0 0 0 0 [] 0 0 false} {3 0 9 2 [{2 10 888} {3 11 888}] 0 2 false} {3 0 10 2 [{3 11 888}] 0 2 false}],
2024/05/21 17:38:13 server[2]got heart beat, reset timeout, local Term is:3, local status is:2, args server id is:0, args Term is:3,now i have:[{-1 0 <nil>} {2 1 0} {2 2 0} {2 3 0} {2 4 0} {2 5 0} {2 6 0} {2 7 0} {2 8 0} {2 9 0} {2 10 888} {3 11 888}] log, commit index is:1
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:1, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:2, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:3, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:4, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:5, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:6, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:7, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:8, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:9, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:10, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 server[0]begin to cacu match count, begin index is:11, len of log is:12, this is:2 server reply,and now match index is:[11 0 11],commit index is:0
2024/05/21 17:38:13 leader server[0] apply a log entry to applyCh, log term is:3, log index is:11
2024/05/21 17:38:13 apply error: server 0 apply out of order, expected Index 2, got 1
exit status 1
FAIL	6.5840/raft	3.767s
end of test 5...
